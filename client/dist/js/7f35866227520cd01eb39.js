(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{217:function(e,n,t){var a=t(22),o=t(218);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var i={insert:"head",singleton:!1};a(o,i);e.exports=o.locals||{}},218:function(e,n,t){(n=t(23)(!1)).push([e.i,".login-box {\n  margin-top: -50px;\n  overflow: hidden;\n  height: 100vh;\n  background: url('http://pic.5tu.cn/uploads/allimg/1911/pic_5tu_big_2019010282234581834.jpg') no-repeat center / 100% 100vh;\n}\n.login-box .input {\n  width: 80%;\n  margin: 0 auto;\n}\n.login-box .btn {\n  width: 80%;\n  margin: 30px auto;\n}\n.login-box .input-box {\n  margin-top: 250px;\n}\n",""]),e.exports=n},220:function(e,n,t){"use strict";t.r(n);t(93);var a=t(94),o=t.n(a),i=(t(206),t(209)),r=t.n(i),l=t(61),s=t.n(l),c=(t(63),t(64)),u=t.n(c),d=t(62),p=t.n(d),m=t(70),g=t.n(m),h=t(0),f=t.n(h),v=(t(217),t(58)),b=t(57);n.default=function(e){var n=Object(h.useState)(""),t=g()(n,2),a=t[0],i=t[1],l=Object(h.useState)(""),c=g()(l,2),d=c[0],m=c[1],x=function(){var n=p()(s.a.mark((function n(){var t;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(v.a)({method:"post",url:b.a.login,data:{userName:a,pwd:d}});case 2:t=n.sent,localStorage.setItem("xToken",t.token),u.a.success("欢迎来到新世界"),e.history.replace("/");case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return f.a.createElement("div",{className:"login-box"},f.a.createElement("div",{className:"input-box"},f.a.createElement(r.a,{placeholder:"请输入用户名",className:"input",value:a,onChange:function(e){i(e)}}),f.a.createElement(r.a,{type:"password",placeholder:"请输入密码",value:d,className:"input",onChange:function(e){m(e)}}),f.a.createElement(o.a,{type:"primary",className:"btn",onClick:x},"打开新世界")))}},57:function(e,n,t){"use strict";n.a={login:"/login",getUser:"/user/get",upload:"/file/upload",dailyAdd:"/daily/add",dailyList:"/daily/list",dailyDetails:"/daily/details",commentAdd:"/comment/add",commentQuery:"/comment/query"}},58:function(e,n,t){"use strict";t.d(n,"a",(function(){return d}));t(63);var a=t(64),o=t.n(a),i=t(89),r=t.n(i),l=t(14),s=/116.62.139.102/.test(window.location.host),c="http://127.0.0.1:3000",u="http://116.62.139.102:3000";function d(e){var n=e.method,t=void 0===n?"get":n,a=e.url,i=e.data,s=e.params,c=e.handleError,u=void 0!==c&&c;return new Promise((function(e,n){r()({method:t,url:a,data:i,params:s,headers:{xToken:localStorage.getItem("xToken")},timeout:1e4}).then((function(t){var a=t.data,i=a.code,r=a.msg;0===i?e(a.data):10===i?l.a.replace("/login"):(o.a.fail(r),u&&n(a))})).catch((function(e){var t=e.message;(void 0===t?"":t).includes("timeout")?o.a.fail("请求超时，请稍后再试"):o.a.fail("服务器异常，请稍后再试"),u&&n(e)}))}))}r.a.defaults.baseURL=s?u:c}}]);